<p-drawer [(visible)]="visible" header="Set Up Filter" position="right">
  <div class="pt-3 text-sm">
    <!-- Date Range -->
    <div class="mb-3">
      <label class="text-xs mb-1">Date Range</label>
      <p-date-picker
        [(ngModel)]="dateRange"
        (ngModelChange)="onDateRangeChange($event)"
        [showIcon]="true"
        selectionMode="range"
        placeholder="Select date range"
        class="w-100 md:w-56"></p-date-picker>
    </div>

    <!-- Search -->
    <div class="mb-3">
      <label class="text-xs mb-1">Search</label>
      <input class="p-inputtext p-component w-100" [ngModel]="filtersService.searchText()" (ngModelChange)="filtersService.searchText.set($event)" placeholder="Type to search..." />
    </div>

    <!-- Facets -->
    <div class="mb-3">
      <label class="text-xs mb-1">Source</label>
      <p-select [options]="sourceOptions || []" [ngModel]="selectedSource()" placeholder="Select a Source" (onChange)="selectedSource.set($event.value)" class="w-100" />
    </div>

    <div class="mb-3">
      <label class="text-xs mb-1">Platform</label>
      <p-select [options]="platformOptions || []" [ngModel]="selectedPlatform()" placeholder="Select a Platform" (onChange)="selectedPlatform.set($event.value)" class="w-100" />
    </div>

    <div class="mb-3">
      <label class="text-xs mb-1">Country</label>
      <p-select [options]="countryOptions || []" [ngModel]="selectedCountry()" placeholder="Select a Country" (onChange)="selectedCountry.set($event.value)" class="w-100" />
    </div>

    <div class="mb-3">
      <label class="text-xs mb-1">Release Channel</label>
      <p-select [options]="releaseChannelOptions || []" [ngModel]="selectedReleaseChannel()" placeholder="Select a Release Channel" (onChange)="selectedReleaseChannel.set($event.value)" class="w-100" />
    </div>

    <!-- Custom query -->
    <div class="mb-3">
      <label class="text-xs mb-1">Custom Query</label>
      <input class="p-inputtext p-component w-100" [ngModel]="filtersService.customQuery()" (ngModelChange)="filtersService.customQuery.set($event)" placeholder="e.g. country == 'US' and revenue_usd > 1000" />
    </div>

    <!-- Actions -->
    <div class="flex gap-2 mb-2">
      <button class="btn custom-btn-primary flex-1" pButton type="button" (click)="saveCurrentConfigClick.emit()">
        <i class="pi pi-save" pButtonIcon></i>
        <span pButtonLabel>Save</span>
      </button>
      <button class="btn p-button-outlined flex-1" pButton type="button" (click)="clearAllFiltersClick.emit()">
        <i class="pi pi-filter-slash" pButtonIcon></i>
        <span pButtonLabel>Clear</span>
      </button>
    </div>
  </div>
</p-drawer>
